# LaTeXç¯å¢ƒæ­å»ºï¼Œæ”¯æŒVS Codeå’ŒGitHub Codespaces

<div align="center">
<a href="https://github.com/zydou/latex-template"><img src="https://img.shields.io/badge/English-purple.svg"></a>
<a href="https://github.com/zydou/latex-template/blob/master/README-zh_CN.md"><img src="https://img.shields.io/badge/ä¸­æ–‡æ–‡æ¡£-green.svg"></a>
</div>
å¦‚æœä½ æ˜¯ä¸€ä¸ªæ–°äººæƒ³è¦å­¦ä¹ LaTeXï¼Œè¯·ç›´æ¥ä½¿ç”¨[Overleaf](https://www.overleaf.com/)ï¼Œå»å®˜ç½‘æ³¨å†Œä¹‹åå³å¯åœ¨æµè§ˆå™¨ä¸­æ‹¥æœ‰å®Œæ•´çš„LaTeXç¯å¢ƒï¼Œæ— éœ€æœ¬åœ°éƒ¨ç½²ã€‚

## åˆè¡·

ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œä¸­å›½å¤§é™†ç½‘ç»œè®¿é—®å¤–ç½‘éå¸¸ä¸ç¨³å®šï¼Œä»¥åŠOverleafåœ¨å„å¤§ä¼šè®®ddlä¹‹å‰ç»å¸¸[ç¼–è¯‘ç¼“æ…¢(æˆ–è€…å®•æœº)](https://status.overleaf.com/history)ï¼Œæ‰€ä»¥æˆ‘æœ‰äº†åœ¨æœ¬åœ°éƒ¨ç½²ä¸€å¥—LaTeXç¯å¢ƒè¿›è¡Œå†™ä½œçš„éœ€æ±‚ã€‚ç”±äºLaTeXçš„ä¼—å¤šç‰ˆæœ¬ä»¥åŠä¾èµ–é—®é¢˜ï¼Œåœ¨æœ¬åœ°éƒ¨ç½²LaTeXç¯å¢ƒå¹¶éæ˜“äº‹ï¼Œå®‰è£…ä¸æ…è¿˜å¯èƒ½å¯¹æœ¬æœºç³»ç»Ÿä¾èµ–é€ æˆç ´åã€‚æœ¬é¡¹ç›®åˆ©ç”¨VS Code çš„[Dev Containers](https://code.visualstudio.com/docs/devcontainers/containers)åŠŸèƒ½ï¼Œæœ¬è´¨ä¸Šæ˜¯åˆ©ç”¨Dockeré•œåƒéƒ¨ç½²å®Œæ•´çš„LaTeXç¯å¢ƒï¼Œå¹¶ä¸ä¼šå¯¹æœ¬æœºé€ æˆä»»ä½•å½±å“ã€‚

å¦‚æœä½ å’Œæˆ‘ä¸€æ ·æœ‰åœ¨æœ¬åœ°ä½¿ç”¨VS Codeç¼–å†™LaTeXçš„éœ€æ±‚ï¼Œå¯ä»¥å‚ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œéƒ¨ç½²ã€‚

## å®‰è£…

### æ–¹å¼ä¸€ï¼šéƒ¨ç½²LaTeXç¯å¢ƒåˆ°æœ¬æœº

æ­¤æ–¹å¼ä¼šå°†LaTeXç¯å¢ƒéƒ¨ç½²åˆ°æœ¬æœºã€‚

#### ä¼˜ç‚¹

- å³ä½¿å¤„äºæ–­ç½‘çŠ¶æ€ï¼Œä¾ç„¶ä¸å½±å“å†™ä½œã€‚

#### ç¼ºç‚¹

- éœ€è¦å®‰è£…Dockerå’Œæ‹‰å–TeX Liveé•œåƒåœ¨æœ¬æœºä¸Šï¼Œå ç”¨æœ¬æœºçš„ç£ç›˜ç©ºé—´ã€‚
- Dockerå®¹å™¨è¿è¡Œåœ¨æœ¬æœºä¸Šï¼Œå ç”¨æœ¬æœºçš„èµ„æºï¼Œå°¤å…¶æ˜¯CPUå’Œå†…å­˜æœ‰é™çš„è®¾å¤‡ä¸Šã€‚
- å¦‚æœä½ æœ‰å¤šå°è®¾å¤‡å†™ä½œçš„éœ€æ±‚ï¼Œéœ€è¦åœ¨æ¯ä¸€å°è®¾å¤‡ä¸Šéƒ½éƒ¨ç½²ç¯å¢ƒï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚

#### æ­¥éª¤

1. åœ¨æœ¬æœºå®‰è£… [Docker](https://docs.docker.com/get-started) å’Œ [VS Code](https://code.visualstudio.com/download)
2. åœ¨VS Codeé‡Œå®‰è£… [Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers)æ‰©å±•
3. ä¸‹è½½æœ¬é¡¹ç›®åˆ°æœ¬åœ°ï¼Œç”¨VS Codeæ‰“å¼€ã€‚
4. åœ¨VS Codeçš„å‘½ä»¤é¢æ¿ä¸­ï¼ˆå¯ä»¥æŒ‰å¿«æ·é”®`F1`æ‰“å¼€ï¼‰æ‰§è¡Œ`Dev Containers: Reopen in Container`.

å®‰è£…å®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
![latex-vscode-desktop.png](https://s2.loli.net/2022/03/31/wiZUVJjFf4Pr23q.png)

### æ–¹å¼äºŒï¼šéƒ¨ç½²LaTeXç¯å¢ƒåˆ°è¿œç¨‹æœåŠ¡å™¨

æ­¤æ–¹å¼ä¼šå°†LaTeXç¯å¢ƒéƒ¨ç½²åˆ°ä¸€å°è¿œç¨‹æœåŠ¡å™¨ä¸Šã€‚å¯ä»¥æ˜¯è‡ªå·±è´­ä¹°çš„VPSï¼Œä¹Ÿå¯ä»¥æ˜¯å…¬å¸ã€å­¦æ ¡ã€å®éªŒå®¤çš„æœåŠ¡å™¨ã€‚

#### ä¼˜ç‚¹

- æ— éœ€åœ¨æœ¬æœºå®‰è£…DockeråŠTeX Liveé•œåƒï¼Œä¸å ç”¨æœ¬æœºç£ç›˜ç©ºé—´ã€‚
- Dockerå®¹å™¨è¿è¡Œåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œå¯¹æœ¬æœºæ€§èƒ½æ²¡æœ‰å½±å“ã€‚
- ä¸€æ¬¡éƒ¨ç½²ï¼Œå¤šè®¾å¤‡å…±ç”¨ã€‚åªéœ€åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šéƒ¨ç½²ï¼Œå¯ä»¥åœ¨ä»»æ„ä¸€å°èƒ½å¤Ÿè¿æ¥è¯¥æœåŠ¡å™¨çš„è®¾å¤‡ä¸Šä½¿ç”¨ã€‚

#### ç¼ºç‚¹

- éœ€è¦ä½ æ‹¥æœ‰ä¸€å°æœåŠ¡å™¨ã€‚
- éœ€è¦è¿æ¥åˆ°æœåŠ¡å™¨æ‰èƒ½ä½¿ç”¨ï¼Œåœ¨æ–­ç½‘ç¯å¢ƒä¸‹ä¸å¯ç”¨ã€‚
- åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å’Œå¯ç”¨Dockeréœ€è¦ä½¿ç”¨sudoæƒé™ï¼Œæœ¬æ–¹å¼ä¸é€‚ç”¨ä»…æœ‰æ™®é€šæƒé™çš„ç”¨æˆ·ã€‚

    > ä½ å¯ä»¥è”ç³»ç®¡ç†å‘˜åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…Dockerä¹‹åï¼Œä½¿ç”¨`sudo usermod -aG docker your_username` æŠŠä½ çš„ç”¨æˆ·åæ·»åŠ åˆ°dockerç”¨æˆ·ç»„ï¼Œè¿™æ ·ä½ å°±èƒ½ä»¥æ™®é€šç”¨æˆ·æƒé™ä½¿ç”¨dockeræœåŠ¡ï¼Œè¯¦æƒ…å‚è€ƒ[å®˜æ–¹è¯´æ˜](https://docs.docker.com/engine/install/linux-postinstall/#manage-docker-as-a-non-root-user)ã€‚

#### æ­¥éª¤

1. åœ¨**è¿œç¨‹æœåŠ¡å™¨**ä¸Šå®‰è£… [Docker](https://docs.docker.com/get-started)ã€‚
2. åœ¨**æœ¬æœº**å®‰è£… [VS Code](https://code.visualstudio.com/download)ã€‚
3. åœ¨VS Codeé‡Œå®‰è£… [Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers) å’Œ [Remote - SSH](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh)æ‰©å±•ã€‚
4. ä¸‹è½½æœ¬é¡¹ç›®åˆ°**è¿œç¨‹æœåŠ¡å™¨**.
5. ä½¿ç”¨`Remote - SSH`è¿æ¥åˆ°è¿œç¨‹æœåŠ¡å™¨, å¹¶æ‰“å¼€åˆšåˆšä¸‹è½½çš„é¡¹ç›®æ–‡ä»¶å¤¹ã€‚
6. åœ¨VS Codeçš„å‘½ä»¤é¢æ¿ä¸­ï¼ˆå¯ä»¥æŒ‰å¿«æ·é”®`F1`æ‰“å¼€ï¼‰æ‰§è¡Œ`Dev Containers: Reopen in Container`.

å®‰è£…å®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
![latex-vscode-remote.png](https://s2.loli.net/2022/03/31/kjEyzIYDq9lb1Sx.png)

### æ–¹å¼ä¸‰ï¼šéƒ¨ç½²LaTeXç¯å¢ƒåˆ°GitHub Codespaces

æ­¤æ–¹å¼åˆ©ç”¨GitHubçš„[Codespaces](https://github.com/features/codespaces)æœåŠ¡ï¼Œå°†LaTeXç¯å¢ƒéƒ¨ç½²åˆ°GitHubçš„äº‘ç«¯æœåŠ¡å™¨ä¸Šã€‚~~ç›®å‰CodespacesæœåŠ¡é’ˆå¯¹ä¸ªäººç”¨æˆ·å…è´¹ä½¿ç”¨ã€‚~~

æ›´æ–°ï¼šç›®å‰Codespaceså¯¹äºæ™®é€šç”¨æˆ·ï¼Œæ¯æœˆæœ‰120çš„core-hourså…è´¹é¢åº¦ï¼Œä½†ç”±äºCodespacesæœ€å°ä¹Ÿæ˜¯2-coresçš„æœºå™¨ï¼Œæ‰€ä»¥å®é™…ä½¿ç”¨æ—¶æœ€å¤šåªæœ‰æ¯æœˆ60å°æ—¶çš„å…è´¹é¢åº¦ã€‚

#### ä¼˜ç‚¹

- æ— éœ€æ‹¥æœ‰ä¸€å°æœåŠ¡å™¨ã€‚
- æ— éœ€åœ¨æœ¬æœºå®‰è£…DockeråŠTeX Liveé•œåƒï¼Œä¸å ç”¨æœ¬æœºç£ç›˜ç©ºé—´ã€‚
- Dockerå®¹å™¨è¿è¡Œåœ¨GitHubçš„äº‘ç«¯æœåŠ¡å™¨ä¸Šï¼Œå¯¹æœ¬æœºæ€§èƒ½æ²¡æœ‰å½±å“ã€‚
- æ— éœ€å®‰è£…ä»»ä½•æœ¬åœ°å®¢æˆ·ç«¯ï¼Œå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨é‡Œä½¿ç”¨ï¼Œå¤šè®¾å¤‡å¯ç”¨ã€‚
    > GitHubçš„CodespacesåŒæ ·æ”¯æŒç”¨æœ¬åœ°çš„VS Codeæ‰“å¼€ã€‚

#### ç¼ºç‚¹

- å¹¶ä¸å…è´¹ï¼Œæ¯æœˆåªæœ‰60å°æ—¶å…è´¹é¢åº¦ã€‚
- éœ€è¦è¿æ¥åˆ°æœåŠ¡å™¨æ‰èƒ½ä½¿ç”¨ï¼Œæ‰€ä»¥åœ¨æ–­ç½‘ç¯å¢ƒä¸‹ä¸å¯ç”¨ã€‚
- æ— æ³•ä¿è¯åœ¨ä¸­å›½å¤§é™†å›½å†…è®¿é—®GitHubçš„ç½‘ç»œç¨³å®šæ€§ã€‚

#### æ­¥éª¤

1. Forkæœ¬é¡¹ç›®åˆ°ä½ è‡ªå·±åä¸‹ã€‚
2. å‚è€ƒä¸‹å›¾æµç¨‹æ–°å»ºä¸€ä¸ªCodespaceså³å¯åœ¨æµè§ˆå™¨é‡Œæ‰“å¼€ã€‚
    ![github-codespaces-guide.png](https://s2.loli.net/2022/03/31/3G6eXEru54LjnPR.png)

    å®‰è£…å®Œæˆåå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
    ![latex-github-codespaces.png](https://s2.loli.net/2022/03/31/Br79uhDOnJFRNwi.png)
3. ï¼ˆå¯é€‰ï¼‰GitHub CodespacesåŒæ ·æ”¯æŒä½¿ç”¨æœ¬æœºçš„VS Codeè¿æ¥ï¼Œéœ€è¦åœ¨æœ¬æœºçš„VS Codeä¸­å®‰è£…[GitHub Codespaces](https://marketplace.visualstudio.com/items?itemName=GitHub.codespaces)æ‰©å±•ï¼Œå…·ä½“ä½¿ç”¨æ•™ç¨‹è¯¦è§[å®˜æ–¹æ–‡æ¡£](https://docs.github.com/en/codespaces/developing-in-codespaces/using-codespaces-in-visual-studio-code)ã€‚

## å¸¸è§é—®é¢˜

### å¦‚ä½•å®šåˆ¶æˆ‘è‡ªå·±çš„ç¯å¢ƒï¼Ÿ

æœ¬é¡¹ç›®æ‰€æœ‰åˆå§‹é…ç½®å‡åœ¨[.devcontainer/devcontainer.json](https://github.com/zydou/latex-template/blob/master/.devcontainer/devcontainer.json)æ–‡ä»¶ä¸­å®šä¹‰ã€‚

ä¿®æ”¹è¯¥æ–‡ä»¶å³å¯æ›´æ”¹åˆå§‹åŒ–é…ç½®ï¼Œä¸‹é¢åˆ—å‡ºä¸€äº›å¸¸è§çš„å®šåˆ¶é€‰é¡¹ï¼Œæ›´å¤šå…·ä½“çš„è®¾ç½®è¯¦è§[å®˜æ–¹æ–‡æ¡£](https://code.visualstudio.com/docs/remote/devcontainerjson-reference)

âš ï¸æ³¨æ„ï¼Œæ¯ä¸€æ¬¡æ›´æ”¹`.devcontainer/devcontainer.json`æ–‡ä»¶åï¼Œéƒ½éœ€è¦é‡æ–°ç¼–è¯‘å®¹å™¨ï¼Œå…·ä½“æ–¹æ³•ä¸ºåœ¨VS Codeçš„å‘½ä»¤é¢æ¿ä¸­ï¼ˆå¯ä»¥æŒ‰å¿«æ·é”®`F1`æ‰“å¼€ï¼‰æ‰§è¡Œ`Dev Containers: Rebuild Container`.

### 1. å¦‚ä½•æ›´æ”¹Tex Liveçš„ç‰ˆæœ¬ï¼Ÿ

ä¿®æ”¹`.devcontainer/devcontainer.json`æ–‡ä»¶ä¸­çš„`image`å­—æ®µï¼Œå¦‚æ”¹ä¸º`"image": "zydou/devcontainer-texlive:2021"`å³åˆ‡æ¢ä¸ºTex Live 2021ã€‚é•œåƒé»˜è®¤åŸºäºDebian trixieæ„å»ºï¼Œå¦‚æœä½ éœ€è¦ä¸åŒçš„Debianå‘è¡Œç‰ˆæˆ–è€…æƒ³æ¢æˆUbuntuï¼Œä¹Ÿå¯ä»¥åœ¨å¹´ä»½åæ·»åŠ å‘è¡Œç‰ˆåç§°ã€‚å¦‚`"image": "zydou/devcontainer-texlive:2022-jammy"`ï¼Œå³åŸºäºUbuntu Jammyï¼ˆUbuntu 22.04ï¼‰æ„å»ºçš„Tex Live 2022é•œåƒã€‚

å½“å‰å¯ç”¨çš„TeX Liveç‰ˆæœ¬å¦‚ä¸‹ï¼š

| TeX Live     | æè¿°          |
| ------------ | ------------- |
| latest       | TeX Live 2023 |
| 2023         | TeX Live 2023 |
| 2022         | TeX Live 2022 |
| 2021         | TeX Live 2021 |
| 2020         | TeX Live 2020 |
| 2019         | TeX Live 2019 |
| 2018         | TeX Live 2018 |

å½“å‰å¯ç”¨çš„Linuxå‘è¡Œç‰ˆæœ¬å¦‚ä¸‹ï¼š

| Linuxå‘è¡Œç‰ˆ | æè¿°          |
| ---------- | ------------ |
| trixie     | Debian 13    |
| bookworm   | Debian 12    |
| bullseye   | Debian 11    |
| buster     | Debian 10    |
| jammy      | Ubuntu 22.04 |
| focal      | Ubuntu 20.04 |
| bionic     | Ubuntu 18.04 |
| xenial     | Ubuntu 16.04 |

ä¸¾ä¾‹å¦‚ä¸‹ï¼š

```sh
zydou/texlive:latest         # latest texlive on newest Debian
zydou/texlive:2022           # texlive-2022 on newest Debian
zydou/texlive:focal          # latest texlive on Ubuntu Focal
zydou/texlive:latest-buster  # latest texlive on Debian Buster
zydou/texlive:2021-jammy     # texlive-2021 on Ubuntu Jammy
```

ğŸ’¡æç¤ºï¼šä¸Šè¿°ç‰ˆæœ¬æ”¯æŒåˆ—è¡¨å¯èƒ½å·²è¿‡æœŸï¼Œå‡†ç¡®çš„ç‰ˆæœ¬æ”¯æŒåˆ—è¡¨è¯·å‚è€ƒ[zydou/texlive](https://github.com/zydou/texlive)ä»“åº“ã€‚

### 2. å¦‚ä½•åœ¨devcontaineræ„å»ºå®Œæˆåè‡ªåŠ¨å®‰è£…ä¸€äº›VS Codeæ‰©å±•ï¼Ÿ

`.devcontainer/devcontainer.json`æ–‡ä»¶ä¸­çš„`extensions`é€‰é¡¹å®šä¹‰äº†é»˜è®¤å®‰è£…çš„æ‰©å±•ã€‚æœ¬é¡¹ç›®é»˜è®¤ä»…å®‰è£…äº†[LaTeX Workshop](https://marketplace.visualstudio.com/items?itemName=James-Yu.latex-workshop)å’Œ[LaTeX Snippets](https://marketplace.visualstudio.com/items?itemName=JeffersonQin.latex-snippets-jeff)ä¸¤ä¸ªæ‰©å±•ã€‚æ·»åŠ æ‰€éœ€æ‰©å±•å¯¹åº”çš„`Extension ID`åˆ°`extensions`åˆ—è¡¨ä¸­å³å¯, ä»¥[Dictionary Completion](https://marketplace.visualstudio.com/items?itemName=yzhang.dictionary-completion)æ‰©å±•ä¸¾ä¾‹ï¼š

```json
  "extensions": [
    "james-yu.latex-workshop",
    "JeffersonQin.latex-snippets-jeff",
    "yzhang.dictionary-completion"
  ],
```

### 3. å¦‚ä½•åœ¨devcontaineræ„å»ºå®Œæˆåè‡ªåŠ¨æ‰§è¡Œä¸€äº›å‘½ä»¤ï¼Ÿ

æ·»åŠ ä½ æ‰€éœ€çš„ä»»æ„è„šæœ¬å†…å®¹åˆ°`.devcontainer/postCreateCommand.sh`ä¸­ï¼Œæ­¤è„šæœ¬ä¼šåœ¨devcontaineræ„å»ºå®Œæˆåè‡ªåŠ¨æ‰§è¡Œã€‚ä¾‹å¦‚ï¼š

```sh
#!/bin/bash

## Install system packages
sudo apt-get update
sudo apt-get install -y system_package_name

## Update texlive packages
sudo tlmgr update texlive_package_name

## Download some fonts
mkdir "$HOME/.fonts"
curl -sSLf -o "$HOME/.fonts/font_name.ttf" "https://example.com/font_name.ttf"
fc-cache -fv
```

### 4. æˆ‘çš„ç½‘ç»œæ‹‰å–Dockeré•œåƒéå¸¸æ…¢ï¼Œå¦‚ä½•åŠ é€Ÿï¼Ÿ

æœ¬é¡¹ç›®é»˜è®¤ä»Docker Hubæ‹‰å–é•œåƒï¼Œå¦‚æœä½ ä»Docker Hubæ‹‰å–é•œåƒå¾ˆæ…¢çš„è¯ï¼Œå¯ä»¥å°è¯•æ›´æ”¹ä¸ºå›½å†…æ‹‰å–æºã€‚å…·ä½“æ–¹æ³•æ˜¯ä¿®æ”¹`.devcontainer/devcontainer.json`æ–‡ä»¶ä¸­çš„`image`å­—æ®µï¼Œä»¥Tex Live 2023ä¸¾ä¾‹ï¼š

```json
{
    "image": "zydou-docker.pkg.coding.net/docker/mirror/zydou/devcontainer-texlive:2023"
}
```

Tex Live 2022 on Debian Bookwormï¼ˆå…¶ä½™åŒç†ï¼‰ï¼š

```json
{
    "image": "zydou-docker.pkg.coding.net/docker/mirror/zydou/devcontainer-texlive:2022-bookworm"
}
```
